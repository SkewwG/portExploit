# -*- coding:utf-8 -*-
from subprocess import PIPE, Popen
import re
import sys
ip = r'116.253.191.153'
pingList = []

p = Popen('ping -n 1 ' + ip, stdout=PIPE)
ping_bytes = p.stdout.read()
if sys.winver < '3':
    print(sys.winver)
    ping_ret = ping_bytes
else:
    ping_ret = ping_bytes.decode('GB2312')  # 将字节流解码成字符串
# print(ping_bytes)
reCompilt = re.compile(r'TTL')
print(ping_ret)
m = reCompilt.search(ping_ret)
if m:
    print(m)
    pingList.append(ip)
